<!DOCTYPE html>
<html lang="fr">
<head>
  <!-- (1) META / TITRE -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Le Borgia – Pizzeria italienne à Chêne-Bourg. Pizza au feu de bois et spécialités italiennes de Genève." />
  <title>Le Borgia – Pizzeria Italienne à Chêne-Bourg</title>
  
  <!-- (2) GOOGLE FONTS -->
  <link href="https://fonts.googleapis.com/css2?family=Italianno&family=Open+Sans:wght@400;600;700&family=Playfair+Display:wght@700;900&family=Cinzel:wght@700&display=swap" rel="stylesheet">
  
  <!-- (3) FONTAWESOME -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <!-- (4) ANIMATE.CSS (optionnel si tu veux) -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
  
  <!-- (5) AOS (Animate On Scroll) -->
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  
  <!-- (6) TAILWIND CSS + CONFIG -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            sans: ["Open Sans", "sans-serif"],
            italianno: ["Italianno", "cursive"],
            playfair: ["Playfair Display", "serif"],
            cinzel: ["Cinzel", "serif"]
          },
          colors: {
            italiaRed: "#E63946",
            italiaGreen: "#2A9D8F",
            italiaGold: "#F4A261",
            italiaCream: "#F1FAEE",
            italiaNavy: "#1D3557",
            italiaOlive: "#606C38",
            italiaRust: "#BC6C25",
            taupe: "#d3c8bb",
            taupeDark: "#8d7268",
            olive: "#6b8e23",
            tomato: "#ff6347"
          },
          keyframes: {
            pulse: {
              "0%, 100%": { transform: "scale(1)", opacity: "1" },
              "50%": { transform: "scale(1.05)", opacity: "0.8" }
            },
            float: {
              "0%, 100%": { transform: "translateY(0)" },
              "50%": { transform: "translateY(-10px)" }
            },
            fadeIn: {
              "0%": { opacity: "0" },
              "100%": { opacity: "1" }
            },
            slideIn: {
              "0%": { transform: "translateX(-20px)", opacity: "0" },
              "100%": { transform: "translateX(0)", opacity: "1" }
            },
            zoomIn: {
              "0%": { transform: "scale(1.2)", opacity: "0" },
              "100%": { transform: "scale(1)", opacity: "1" }
            },
            titleIn: {
              "0%": { transform: "translateY(30px)", opacity: "0" },
              "100%": { transform: "translateY(0)", opacity: "1" }
            },
            expand: {
              "0%": { transform: "scaleX(0)" },
              "100%": { transform: "scaleX(1)" }
            },
            typewriter: {
              "0%": { width: "0" },
              "100%": { width: "100%" }
            },
            wave: {
              "0%, 100%": { transform: "translateY(0)" },
              "50%": { transform: "translateY(-10px)" }
            },
            fire: {
              "0%, 100%": { transform: "scaleY(1) scaleX(1)" },
              "50%": { transform: "scaleY(1.1) scaleX(0.9)" }
            },
            blinkCaret: {
              "from, to": { borderColor: "transparent" },
              "50%": { borderColor: "white" }
            },
            fadeInUp: {
              "0%": { opacity: "0", transform: "translateY(20px)" },
              "100%": { opacity: "1", transform: "translateY(0)" }
            },
            smoothFadeIn: {
              "0%": { opacity: "0", transform: "translateY(15px)" },
              "100%": { opacity: "1", transform: "translateY(0)" }
            },
            rotate: {
              "0%": { transform: "rotate(0deg)" },
              "100%": { transform: "rotate(360deg)" }
            },
            shake: {
              "0%, 100%": { transform: "translateX(0)" },
              "10%, 30%, 50%, 70%, 90%": { transform: "translateX(-5px)" },
              "20%, 40%, 60%, 80%": { transform: "translateX(5px)" }
            },
            bounceIn: {
              "0%": { transform: "scale(0.8)", opacity: "0" },
              "50%": { transform: "scale(1.05)", opacity: "1" },
              "100%": { transform: "scale(1)", opacity: "1" }
            },
            flipIn: {
              "0%": { transform: "rotateY(90deg)", opacity: "0" },
              "100%": { transform: "rotateY(0)", opacity: "1" }
            },
            glow: {
              "0%, 100%": { textShadow: "0 0 8px rgba(255,255,255,0.5)" },
              "50%": { textShadow: "0 0 16px rgba(255,255,255,0.8)" }
            }
          },
          animation: {
            pulse: "pulse 1.5s infinite ease-in-out",
            float: "float 3s ease-in-out infinite",
            fadeIn: "fadeIn 1s ease-out forwards",
            slideIn: "slideIn 0.5s ease-out forwards",
            "zoom-in": "zoomIn 2s ease-out forwards",
            "title-in": "titleIn 1s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards",
            expand: "expand 1.5s ease-out forwards",
            typewriter: "typewriter 2s steps(70) 1s 1 normal both",
            wave: "wave 2s ease-in-out infinite",
            fire: "fire 1.5s ease-in-out infinite alternate",
            "blink-caret": "blinkCaret 0.75s step-end infinite",
            fadeInUp: "fadeInUp 0.8s ease-in-out forwards",
            smoothFadeIn: "smoothFadeIn 2.5s ease-in-out forwards",
            rotate: "rotate 2s linear infinite",
            shake: "shake 0.5s ease-in-out",
            bounceIn: "bounceIn 0.6s ease-out forwards",
            flipIn: "flipIn 0.6s ease-out forwards",
            glow: "glow 2s ease-in-out infinite"
          }
        }
      }
    }
  </script>
  
  <!-- (7) STYLES CUSTOM -->
  <style>
    html { 
      font-family: 'Open Sans', sans-serif;
      scroll-behavior: smooth;
    }
    
    /* Palette et fonds */
    .hero-gradient {
      background: linear-gradient(135deg, rgba(230,57,70,0.8) 0%, rgba(42,157,143,0.8) 100%);
    }

    .btn-gradient {
      background: linear-gradient(to right, #E63946, #F4A261);
      transition: all 0.4s ease;
    }
    .btn-gradient:hover {
      background: linear-gradient(to right, #F4A261, #E63946);
      transform: translateY(-3px);
      box-shadow: 0 10px 20px rgba(230, 57, 70, 0.3);
    }
    
    .menu-item {
      transition: all 0.3s ease;
      border-left: 4px solid transparent;
    }
    .menu-item:hover {
      transform: translateY(-5px);
      border-left: 4px solid #E63946;
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    }
    
    .ingredient-tag {
      transition: all 0.2s ease;
    }
    .ingredient-tag:hover {
      transform: scale(1.05);
    }
    .ingredient-tag.active {
      background-color: #6b8e23 !important;
      color: white !important;
    }
    
    .section-divider {
      position: relative;
      height: 80px;
      overflow: hidden;
    }
    .section-divider::before {
      content: "";
      position: absolute;
      left: 0;
      right: 0;
      top: 0;
      height: 100%;
      background: url("data:image/svg+xml,%3Csvg viewBox='0 0 1200 120' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0,0V46.29c47.79,22.2,103.59,32.17,158,28,70.36-5.37,136.33-33.31,206.8-37.5C438.64,32.43,512.34,53.67,583,72.05c69.27,18,138.3,24.88,209.4,13.08,36.15-6,69.85-17.84,104.45-29.34C989.49,25,1113-14.29,1200,52.47V0Z' fill='%23f1faee' opacity='.25'/%3E%3Cpath d='M0,0V15.81C13,36.92,27.64,56.86,47.69,72.05,99.41,111.27,165,111,224.58,91.58c31.15-10.15,60.09-26.07,89.67-39.8,40.92-19,84.73-46,130.83-49.67,36.26-2.85,70.9,9.42,98.6,31.56,31.77,25.39,62.32,62,103.63,73,40.44,10.79,81.35-6.69,119.13-24.28s75.16-39,116.92-43.05c59.73-5.85,113.28,22.88,168.9,38.84,30.2,8.66,59,6.17,87.09-7.5,22.43-10.89,48-26.93,60.65-49.24V0Z' fill='%23f1faee' opacity='.5'/%3E%3Cpath d='M0,0V5.63C149.93,59,314.09-71.32,475.83,42.57c43-7.64,84.23-20.12,127.61-26.46,59-8.63,112.48,12.24,165.56,35.4C827.93,77.22,886,95.24,951.2,90c86.53-7,172.46-45.71,248.8-84.81V0Z' fill='%23f1faee'/%3E%3C/svg%3E");
      background-size: cover;
      background-repeat: no-repeat;
    }

    /* On applique les animations Tailwind directement par classes */
    .phone-pulse {
      @apply animate-pulse;
    }
    .floating {
      @apply animate-float;
    }
    .shake-on-hover:hover {
      @apply animate-shake;
    }
    .bounce-on-hover:hover {
      @apply animate-bounceIn;
    }
    .flip-on-hover:hover {
      @apply animate-flipIn;
    }
    .glow-text {
      @apply animate-glow;
    }
    .rotate-icon:hover {
      @apply animate-rotate;
    }
    .cta-bounce {
      @apply animate-bounceIn;
    }
    .pulse-highlight {
      @apply animate-pulse;
    }
    .smooth-fade-in {
      @apply animate-smoothFadeIn;
    }

    /* Effet de vague + textures */
    .wave-bg {
      background: url("data:image/svg+xml,%3Csvg viewBox='0 0 1200 120' ...");
      /* ... ton SVG wave complet si besoin ... */
    }

    /* Fade-section pour intersection observer */
    .fade-section {
      opacity: 0;
      transition: opacity 0.8s ease, transform 0.8s ease;
      transform: translateY(20px);
    }
    .fade-section.visible {
      opacity: 1;
      transform: translateY(0);
    }

    /* Zoom au survol des images */
    .hover-zoom img {
      transition: transform 0.4s ease, filter 0.4s ease;
    }
    .hover-zoom:hover img {
      transform: scale(1.1);
      filter: saturate(1.5);
    }

    /* Léger zoom sur input/select au focus */
    input:focus, select:focus {
      transform: scale(1.02);
      transition: all 0.2s ease;
    }

    /* Flip-card (si besoin) */
    .flip-card {
      perspective: 1000px;
    }
    .flip-card-inner {
      transition: transform 0.6s;
      transform-style: preserve-3d;
    }
    .flip-card:hover .flip-card-inner {
      transform: rotateY(180deg);
    }
    .flip-card-front, .flip-card-back {
      backface-visibility: hidden;
    }
    .flip-card-back {
      transform: rotateY(180deg);
    }

    @media (max-width: 640px) {
      .hero-image-container {
        position: relative;
        width: 100%;
        height: 100vh;
        min-height: 700px;
        overflow: hidden;
      }
      .hero-image-container img {
        position: absolute;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%) scale(1.1);
        width: auto;
        height: 100%;
        min-width: 100%;
        min-height: 100%;
      }
    }

    @media (max-width: 768px) {
      .hero-section {
        min-height: 80vh;
      }
      .hero-content {
        padding: 0 1rem;
      }
    }
  </style>
</head>

<body class="bg-italiaCream text-italiaNavy">

  <!-- ~~~~~ HERO SECTION ~~~~~ -->
  <section class="relative w-full h-screen min-h-[600px] overflow-hidden hero-section" data-aos="fade">
    <div class="absolute inset-0 overflow-hidden">
      <div class="absolute inset-0 bg-black/30 z-10"></div>
      <img 
        src="images/hero-bg.jpg" 
        alt="Restaurant Le Borgia" 
        class="w-full h-full object-cover object-center"
        style="object-position: center center;"
        id="heroBg"
      />
      <div class="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/concrete-wall.png')] opacity-10 mix-blend-overlay"></div>
    </div>
    
    <div class="relative z-20 h-full flex flex-col justify-center items-center text-center px-4 hero-content">
      <div class="max-w-4xl mx-auto transition-all duration-1000 ease-out px-4">
        <h1 class="font-italianno text-5xl md:text-7xl lg:text-9xl text-white mb-4 md:mb-6">
          <!-- On utilise data-aos au lieu d'une classe d'animation Tailwind -->
          <span class="inline-block" data-aos="fade-down" data-aos-delay="100">Le</span>
          <span class="inline-block glow-text" data-aos="fade-down" data-aos-delay="300">Borgia</span>
        </h1>
        
        <div class="w-24 md:w-32 h-1 bg-italiaGold mx-auto mb-6 md:mb-8 overflow-hidden" data-aos="zoom-in" data-aos-delay="500">
          <div class="h-full bg-italiaGold animate-expand origin-left"></div>
        </div>
        
        <p class="text-base md:text-xl lg:text-2xl text-white mb-8 md:mb-12 max-w-2xl mx-auto font-light tracking-wide"
           data-aos="fade-up" data-aos-delay="700">
          Authenticité italienne depuis 1983.<br class="md:hidden"> Découvrez nos spécialités toscanes et nos pizzas au feu de bois.
        </p>
        
        <div class="flex flex-col sm:flex-row justify-center gap-3 md:gap-4" data-aos="fade-up" data-aos-delay="900">
          <a href="#reservation"
             class="btn-gradient text-white px-6 py-3 md:px-8 md:py-4 rounded-full font-semibold text-base md:text-lg transform hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-xl animate-wave cta-bounce">
            <span>Réserver une table</span>
          </a>
          <a href="#nos-pizzas"
             class="bg-white/20 backdrop-blur-sm text-white px-6 py-3 md:px-8 md:py-4 rounded-full font-semibold text-base md:text-lg border-2 border-white hover:bg-white/40 transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl animate-wave shake-on-hover"
             style="animation-delay: 0.2s">
            <span>Choisir une Pizza</span>
          </a>
        </div>
      </div>
      
      <a href="#presentation"
         class="absolute bottom-10 left-1/2 transform -translate-x-1/2 text-white text-2xl md:text-3xl animate-bounce hover:text-italiaGold transition-colors rotate-icon">
        <i class="fas fa-chevron-down"></i>
      </a>
    </div>
  </section>
      
  <div class="section-divider"></div>

  <!-- ~~~~~ SECTION PRESENTATION ~~~~~ -->
  <section id="presentation" class="py-20 px-4 max-w-6xl mx-auto fade-section" data-aos="fade-up">
    <div class="text-center mb-16">
      <h2 class="font-italianno text-6xl text-italiaRed mb-4" data-aos="zoom-in">
        Bienvenue au Borgia
      </h2>
      <div class="w-24 h-1 bg-italiaGold mx-auto mb-6" data-aos="zoom-in" data-aos-delay="200"></div>
      <p class="text-xl text-italiaNavy max-w-3xl mx-auto" data-aos="fade-up" data-aos-delay="300">
        Depuis 40 ans, nous partageons notre passion pour la cuisine italienne dans une ambiance chaleureuse et authentique.
      </p>
    </div>
    
    <div class="grid md:grid-cols-3 gap-8">
      <div class="bg-white p-8 rounded-lg shadow-md text-center hover:shadow-xl transition-all bounce-on-hover" data-aos="fade-up" data-aos-delay="100">
        <div class="w-full h-48 mb-4 overflow-hidden rounded hover-zoom">
          <img src="images/pizza1.jpg" alt="Pizza au feu de bois" class="w-full h-full object-cover">
        </div>
        
        <div class="text-italiaRed text-4xl mb-4 rotate-icon">
          <i class="fas fa-fire-alt"></i>
        </div>
        <h3 class="font-playfair text-2xl mb-4">Pizza au feu de bois</h3>
        <p class="text-gray-600">
          Nos pizzas sont préparées avec des ingrédients frais et cuites dans un four à bois traditionnel.
        </p>
      </div>
      
      <div class="bg-white p-8 rounded-lg shadow-md text-center hover:shadow-xl transition-all bounce-on-hover" data-aos="fade-up" data-aos-delay="300">
        <div class="w-full h-48 mb-4 overflow-hidden rounded hover-zoom">
          <img src="images/vin-italien.jpg" alt="Vin italien" class="w-full h-full object-cover">
        </div>
        
        <div class="text-italiaRed text-4xl mb-4 rotate-icon">
          <i class="fas fa-wine-glass-alt"></i>
        </div>
        <h3 class="font-playfair text-2xl mb-4">Cave à vin sélectionnée</h3>
        <p class="text-gray-600">
          Découvrez notre sélection de grands crus italiens soigneusement choisis par notre sommelier.
        </p>
      </div>
      
      <div class="bg-white p-8 rounded-lg shadow-md text-center hover:shadow-xl transition-all bounce-on-hover" data-aos="fade-up" data-aos-delay="500">
        <div class="w-full h-48 mb-4 overflow-hidden rounded hover-zoom">
          <img src="images/produits-frais.jpg" alt="Produits frais" class="w-full h-full object-cover">
        </div>
        
        <div class="text-italiaRed text-4xl mb-4 rotate-icon">
          <i class="fas fa-utensils"></i>
        </div>
        <h3 class="font-playfair text-2xl mb-4">Produits frais</h3>
        <p class="text-gray-600">
          Nous travaillons avec des producteurs locaux et importons les meilleurs produits d'Italie.
        </p>
      </div>
    </div>
  </section>

  <!-- ~~~~~ SECTION SPECIALITES ~~~~~ -->
  <section id="specialites" class="py-20 bg-italiaNavy text-white" data-aos="fade-up">
    <div class="max-w-6xl mx-auto px-4">
      <div class="text-center mb-16">
        <h2 class="font-italianno text-6xl text-italiaGold mb-4" data-aos="zoom-in">
          Nos Spécialités
        </h2>
        <div class="w-24 h-1 bg-italiaRed mx-auto mb-6" data-aos="zoom-in" data-aos-delay="200"></div>
        <p class="text-xl text-italiaCream max-w-3xl mx-auto" data-aos="fade-up" data-aos-delay="300">
          Découvrez les plats qui ont fait la réputation de notre restaurant
        </p>
      </div>
      
      <div class="grid md:grid-cols-2 gap-12">
        <!-- Pâtes -->
        <div class="flex flex-col md:flex-row gap-6 items-center" data-aos="fade-right">
          <div class="w-full md:w-1/2 h-64 rounded-lg overflow-hidden shadow-lg floating hover-zoom">
            <img src="images/pates-assiette.jpg" alt="Pâtes italiennes" class="w-full h-full object-cover">
          </div>
          <div class="w-full md:w-1/2">
            <h3 class="font-playfair text-3xl mb-3 text-italiaGold">Spaghetti cartoccio</h3>
            <p class="text-italiaCream mb-4">
              Crevettes, olives, vin blanc, Fontina, menthe, crème, Grana Padano
            </p>
            <div class="flex items-center text-italiaGold">
              <div class="w-8 h-px bg-italiaGold mr-2"></div>
              <span>Notre chef recommande</span>
            </div>
          </div>
        </div>
        
        <!-- Risotto -->
        <div class="flex flex-col md:flex-row gap-6 items-center" data-aos="fade-left" data-aos-delay="200">
          <div class="w-full md:w-1/2 h-64 rounded-lg overflow-hidden shadow-lg floating hover-zoom">
            <img src="images/risotto-bg.jpg" alt="Risotto aux champignons" class="w-full h-full object-cover">
          </div>
          <div class="w-full md:w-1/2">
            <h3 class="font-playfair text-3xl mb-3 text-italiaGold">Risotto al profumo di bosco</h3>
            <p class="text-italiaCream mb-4">
              Risotto aux bolets, chanterelles et huile parfumée à la truffe
            </p>
            <div class="flex items-center text-italiaGold">
              <div class="w-8 h-px bg-italiaGold mr-2"></div>
              <span>Spécialité saisonnière</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
            
  <!-- ~~~~~ SECTION MENU (NOS PIZZAS) ~~~~~ -->
  <section id="nos-pizzas" class="py-20 px-4 max-w-6xl mx-auto fade-section" data-aos="fade-up">
    <div class="text-center mb-16">
      <h2 class="font-italianno text-6xl text-italiaRed mb-4">
        Notre Carte
      </h2>
      <div class="w-24 h-1 bg-italiaGold mx-auto mb-6"></div>
      <p class="text-xl text-italiaNavy max-w-3xl mx-auto">
        Découvrez notre sélection de pizzas artisanales et plats traditionnels
      </p>
    </div>
    
    <!-- Filtres + Tri + Filtre par ingrédients -->
    <div class="bg-white bg-opacity-80 p-4 rounded-xl shadow-lg mb-12" data-aos="fade-up" data-aos-delay="200">
      <h3 class="font-playfair text-2xl mb-6 text-center">Sur ma Pizza je veux...</h3>

      <div class="grid md:grid-cols-2 gap-6 mb-6">
        
        <!-- Tri par nom/prix -->
        <div>
          <label for="sortSelect" class="block font-semibold mb-2">Trier par</label>
          <select id="sortSelect" class="w-full p-3 rounded border border-gray-300 focus:ring-2 focus:ring-italiaGreen focus:border-transparent">
            <option value="" disabled selected>Choisir...</option>
            <option value="name">Nom (A-Z)</option>
            <option value="price">Prix (croissant)</option>
          </select>
        </div>
        
        <!-- Ajouter un ingrédient -->
        <div>
          <label class="block font-semibold mb-2">Ajouter un ingrédient</label>
          <div class="flex">
            <input type="text" id="ingredientSearch"
                   placeholder="Ex: olives..."
                   class="flex-grow p-3 rounded-l border border-gray-300 focus:ring-2 focus:ring-italiaGreen focus:border-transparent">
            <button onclick="addCustomIngredientFilter()"
                    class="bg-olive text-white px-4 py-2 rounded-r hover:bg-green-700 shake-on-hover">
              Ajouter
            </button>
          </div>
        </div>
      </div>
      
      <!-- Bouton rouge "CTO" pour pizzas à 15 CHF -->
      <div class="mb-6">
        <button id="takeoutButton" 
                class="bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-full font-semibold transition-all duration-300 pulse-highlight">
          takeaway -> 15 CHF !
        </button>
      </div>

      <!-- Tags d'ingrédients dynamiques -->
      <div class="mb-2">
        <label class="block font-semibold mb-2">Cliquer un ingrédient :</label>
        <div class="flex flex-wrap gap-2" id="ingredientTagsContainer">
          <!-- Généré en JS -->
        </div>
      </div>
      
      <!-- Ingrédients sélectionnés -->
      <div id="selectedIngredients" class="flex flex-wrap gap-2 mt-4">
        <!-- Affiché en JS -->
      </div>
    </div>
    
    <!-- GRILLE DES PIZZAS (data-ingredients, data-takeout, etc.) -->
    <div id="menuItems" class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
      
      <!-- EXEMPLE -->
      <div class="menu-item bg-white p-6 rounded-lg shadow-md transition-transform duration-300 hover:-translate-y-1 hover:shadow-lg"
           data-name="Margherita" data-price="18"
           data-ingredients="tomate, mozzarella, basilic"
           data-takeout="false">
        <div class="flex justify-between items-start mb-3">
          <h3 class="font-italianno text-2xl">Margherita</h3>
          <span class="font-semibold text-italiaGold text-xl pizza-price">18 CHF</span>
        </div>
        <p class="text-gray-600 mb-4">Tomate, mozzarella di bufala, basilic frais</p>
      </div>
      
      <!-- Autres pizzas avec animations -->
      <div class="menu-item bg-white p-6 rounded-lg shadow-md transition-transform duration-300 hover:-translate-y-1 hover:shadow-lg"
           data-name="Diavola" data-price="22"
           data-ingredients="tomate, mozzarella, salami piquant, piments"
           data-takeout="true">
        <div class="flex justify-between items-start mb-3">
          <h3 class="font-italianno text-2xl">Diavola</h3>
          <span class="font-semibold text-italiaGold text-xl pizza-price">22 CHF</span>
        </div>
        <p class="text-gray-600 mb-4">Tomate, mozzarella, salami piquant, piments</p>
      </div>
      
      <div class="menu-item bg-white p-6 rounded-lg shadow-md transition-transform duration-300 hover:-translate-y-1 hover:shadow-lg"
           data-name="Quattro Formaggi" data-price="24"
           data-ingredients="tomate, mozzarella, gorgonzola, parmesan, fontina"
           data-takeout="true">
        <div class="flex justify-between items-start mb-3">
          <h3 class="font-italianno text-2xl">Quattro Formaggi</h3>
          <span class="font-semibold text-italiaGold text-xl pizza-price">24 CHF</span>
        </div>
        <p class="text-gray-600 mb-4">Tomate, mozzarella, gorgonzola, parmesan, fontina</p>
      </div>
      
      <!-- Plus d'éléments de menu... -->
    </div>
  </section>
            
  <!-- ~~~~~ SECTION RESERVATION ~~~~~ -->
  <section id="reservation" class="py-20 bg-italiaCream fade-section" data-aos="fade-up">
    <div class="max-w-4xl mx-auto px-4">
      <div class="bg-white rounded-xl shadow-xl overflow-hidden">
        <div class="md:flex">
          <div class="md:w-1/2 bg-italiaRed text-white p-12 flex flex-col justify-center" data-aos="fade-right">
            <h2 class="font-italianno text-5xl mb-6">Réserver</h2>
            <div class="w-16 h-1 bg-italiaGold mb-6"></div>
            <p class="text-xl mb-8">
              Réservez votre table pour une expérience culinaire inoubliable
            </p>
            
            <div class="space-y-4">
              <div class="flex items-center">
                <div class="text-2xl text-italiaGold mr-4 rotate-icon">
                  <i class="fas fa-phone"></i>
                </div>
                <div>
                  <p class="text-sm text-italiaGold">Pour les réservations</p>
                  <a href="tel:0223485831" class="text-2xl font-semibold hover:text-italiaGold transition-colors phone-pulse">
                    022 348 58 31
                  </a>
                </div>
              </div>
              
              <div class="flex items-center">
                <div class="text-2xl text-italiaGold mr-4 rotate-icon">
                  <i class="fas fa-clock"></i>
                </div>
                <div>
                  <p class="text-sm text-italiaGold">Horaires d'ouverture</p>
                  <p class="text-lg">
                    Mardi - Dimanche: 11h30 - 14h00 / 18h30 - 00h00
                  </p>
                </div>
              </div>
            </div>
          </div>
          
          <!-- Formulaire de réservation -->
          <div class="md:w-1/2 p-12" data-aos="fade-left" data-aos-delay="200">
            <h3 class="font-playfair text-2xl mb-6 text-italiaNavy">Formulaire de réservation</h3>
            
            <form id="reservationForm">
              <div class="space-y-4">
          
                <!-- Champ Nom Complet -->
                <div>
                  <label class="block text-gray-700 mb-2" for="nameField">Nom complet</label>
                  <input type="text" id="nameField" required
                    class="w-full p-3 rounded border border-gray-300 focus:ring-2 focus:ring-italiaGreen focus:border-transparent">
                </div>
          
                <!-- Champs Date et Heure -->
                <div class="grid md:grid-cols-2 gap-4">
                  <div>
                    <label class="block text-gray-700 mb-2" for="dateField">Date</label>
                    <input type="date" id="dateField" required
                      class="w-full p-3 rounded border border-gray-300 focus:ring-2 focus:ring-italiaGreen focus:border-transparent"
                      min="2024-03-27" max="2100-12-31">
                  </div>
          
                  <div>
                    <label class="block text-gray-700 mb-2" for="timeField">Heure</label>
                    <input type="time" id="timeField" required
                      class="w-full p-3 rounded border border-gray-300 focus:ring-2 focus:ring-italiaGreen focus:border-transparent">
                  </div>
                </div>
          
                <!-- Champ Nombre de personnes -->
                <div>
                  <label class="block text-gray-700 mb-2" for="peopleField">Nombre de personnes</label>
                  <select id="peopleField" required
                    class="w-full p-3 rounded border border-gray-300 focus:ring-2 focus:ring-italiaGreen focus:border-transparent">
                    <option value="1">1 personne</option>
                    <option value="2">2 personnes</option>
                    <option value="3" selected>3 personnes</option>
                    <option value="4">4 personnes</option>
                    <option value="5">5 personnes</option>
                    <option value="6+">6+ personnes</option>
                  </select>
                </div>
          
                <!-- Message additionnel (facultatif) -->
                <div>
                  <label class="block text-gray-700 mb-2" for="messageField">Message additionnel (optionnel)</label>
                  <textarea id="messageField"
                    class="w-full p-3 rounded border border-gray-300 focus:ring-2 focus:ring-italiaGreen focus:border-transparent"
                    placeholder="Votre message..."></textarea>
                </div>
          
                <!-- Bouton d'envoi WhatsApp -->
                <button type="submit" id="submitReservation"
                  class="btn-gradient text-white w-full py-3 rounded-full font-semibold mt-4 cta-bounce">
                  Réserver par WhatsApp
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </section>
            
  <!-- ~~~~~ SECTION CONTACT / NOUS TROUVER ~~~~~ -->
  <section id="contact" class="py-20 bg-italiaNavy text-white fade-section" data-aos="fade-up">
    <div class="max-w-6xl mx-auto px-4">
      <div class="text-center mb-16" data-aos="zoom-in">
        <h2 class="font-italianno text-6xl text-italiaGold mb-4">
          Nous trouver
        </h2>
        <div class="w-24 h-1 bg-italiaRed mx-auto mb-6"></div>
      </div>
      
      <div class="grid md:grid-cols-2 gap-12 items-center">
        <div data-aos="fade-right">
          <div class="space-y-6">
            <div>
              <h3 class="font-playfair text-2xl mb-3 text-italiaGold">Adresse</h3>
              <p class="text-lg">
                Avenue F.-A.-Grison 26<br>
                1225 Chêne-Bourg
              </p>
            </div>
            
            <div>
              <h3 class="font-playfair text-2xl mb-3 text-italiaGold">Contact</h3>
              <p class="text-lg mb-2">
                <a href="tel:0223485831" class="hover:text-italiaGold transition-colors flex items-center">
                  <i class="fas fa-phone-alt mr-2 w-4 text-center rotate-icon"></i> 022 348 58 31
                </a>
              </p>
              <p class="text-lg">
                <a href="mailto:contact@leborgia.ch" class="hover:text-italiaGold transition-colors flex items-center">
                  <i class="fas fa-envelope mr-2 w-4 text-center rotate-icon"></i> contact@leborgia.ch
                </a>
              </p>
            </div>
            
            <div>
              <h3 class="font-playfair text-2xl mb-3 text-italiaGold">Horaires</h3>
              <p class="text-lg">
                Mardi - Samedi: 11h30–14h00 / 18h30–00h00<br>
                Dimanche: 18h30–00h00<br>
                Lundi: Fermé
              </p>
            </div>
            
            <div class="pt-6">
              <a href="Menu_Borgia.pdf" download class="btn-gradient text-white px-6 py-3 rounded-full font-semibold inline-block shake-on-hover">
                <i class="fas fa-download mr-2"></i> Télécharger le menu
              </a>
            </div>
          </div>
        </div>
        
        <div class="h-96 rounded-xl overflow-hidden shadow-2xl" id="nous-trouver" data-aos="fade-left" data-aos-delay="200">
          <iframe class="w-full h-full"
                  frameborder="0"
                  style="border:0"
                  src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2795.335308860691!2d6.142997315949568!3d46.20305897912339!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x478c6d9e09c54a79%3A0xa7f9b5a5bde9c2a4!2sAvenue%20F.-A.-Grison%2026%2C%201225%20Ch%C3%AAne-Bourg!5e0!3m2!1sfr!2sch!4v1614965474787!5m2!1sfr!2sch"
                  allowfullscreen=""
                  aria-hidden="false"
                  tabindex="0">
          </iframe>
        </div>
      </div>
    </div>
  </section>
            
  <footer class="bg-italiaNavy text-italiaCream pt-12 pb-8 fade-section" data-aos="fade-up">
    <div class="max-w-6xl mx-auto px-4">
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-8">
  
        <div data-aos="fade-up" data-aos-delay="100">
          <h3 class="font-italianno text-3xl text-italiaGold mb-4">Le Borgia</h3>
          <p class="mb-4 text-sm opacity-90">
            L'authenticité italienne à Chêne-Bourg depuis 1983. Pizzas au feu de bois et spécialités toscanes.
          </p>
          <address class="not-italic text-sm opacity-90">
            Avenue F.-A.-Grison 26<br>
            1225 Chêne-Bourg<br>
            Genève, Suisse
          </address>
        </div>
  
        <div data-aos="fade-up" data-aos-delay="200">
          <h4 class="font-playfair text-xl font-semibold mb-4 text-white">Navigation</h4>
          <nav>
            <ul class="space-y-2 text-sm">
              <li><a href="#presentation" class="hover:text-italiaGold transition-colors duration-300">Notre Histoire</a></li>
              <li><a href="#specialites" class="hover:text-italiaGold transition-colors duration-300">Nos Spécialités</a></li>
              <li><a href="#nos-pizzas" class="hover:text-italiaGold transition-colors duration-300">Notre Carte</a></li>
              <li><a href="#reservation" class="hover:text-italiaGold transition-colors duration-300">Réserver une table</a></li>
              <li><a href="#contact" class="hover:text-italiaGold transition-colors duration-300">Nous Trouver</a></li>
              <li><a href="Carte.pdf" target="_blank" rel="noopener noreferrer" class="hover:text-italiaGold transition-colors duration-300">Menu Complet (PDF)</a></li>
            </ul>
          </nav>
        </div>
  
        <div data-aos="fade-up" data-aos-delay="300">
          <h4 class="font-playfair text-xl font-semibold mb-4 text-white">Contact & Horaires</h4>
          <ul class="space-y-2 text-sm mb-4">
            <li>
              <a href="tel:0223485831" class="hover:text-italiaGold transition-colors duration-300 flex items-center">
                <i class="fas fa-phone-alt mr-2 w-4 text-center rotate-icon"></i> 022 348 58 31
              </a>
            </li>
            <li>
              <a href="mailto:contact@leborgia.ch" class="hover:text-italiaGold transition-colors duration-300 flex items-center">
                <i class="fas fa-envelope mr-2 w-4 text-center rotate-icon"></i> contact@leborgia.ch
              </a>
            </li>
          </ul>
          <div class="text-sm mb-4">
            <p><strong>Mardi – Samedi :</strong> 11h30–14h00 / 18h30–00h00</p>
            <p><strong>Dimanche :</strong> 18h30–00h00</p>
            <p><strong>Lundi :</strong> Fermé</p>
          </div>
          <div class="flex space-x-4 mt-4">
            <a href="#" aria-label="Facebook Le Borgia" target="_blank" rel="noopener noreferrer" class="text-xl hover:text-italiaGold transition-transform duration-300 hover:scale-110 rotate-icon">
              <i class="fab fa-facebook-f"></i>
            </a>
            <a href="#" aria-label="Instagram Le Borgia" target="_blank" rel="noopener noreferrer" class="text-xl hover:text-italiaGold transition-transform duration-300 hover:scale-110 rotate-icon">
              <i class="fab fa-instagram"></i>
            </a>
            <a href="#" aria-label="TripAdvisor Le Borgia" target="_blank" rel="noopener noreferrer" class="text-xl hover:text-italiaGold transition-transform duration-300 hover:scale-110 rotate-icon">
              <i class="fab fa-tripadvisor"></i>
            </a>
          </div>
        </div>
      </div>
  
      <div class="border-t border-italiaCream/20 mt-8 pt-6 text-center text-xs opacity-70">
        <p>&copy; <span id="currentYear"></span> Le Borgia. Tous droits réservés. Site réalisé par Sonny</p>
        <p class="mt-1">
          <a href="#" id="backToTop" class="hover:text-italiaGold transition-colors duration-300">
            Retour en haut <i class="fas fa-arrow-up ml-1"></i>
          </a>
        </p>
      </div>
    </div>
  </footer>

  <!-- ~~~~~ SCRIPTS ~~~~~ -->
  <!-- AOS (Animate On Scroll) -->
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  
  <script>
    /**************************************************************
     *  INITIALISATION DES ANIMATIONS AOS
     **************************************************************/
    AOS.init({
      duration: 800,
      easing: 'ease-in-out',
      once: true,
      mirror: false
    });

    /**************************************************************
     *  LOGIQUE DE FILTRAGE PAR INGREDIENTS & TAKEOUT + PRIX BARRÉ
     **************************************************************/
    document.addEventListener('DOMContentLoaded', function() {
      
      const sortSelect = document.getElementById('sortSelect');
      const menuItemsContainer = document.getElementById('menuItems');
      
      // Conteneur pour les tags d'ingrédients
      const ingredientTagsContainer = document.getElementById('ingredientTagsContainer');
      // Conteneur pour les ingrédients sélectionnés
      const selectedIngredientsContainer = document.getElementById('selectedIngredients');
      const ingredientSearch = document.getElementById('ingredientSearch');
      
      // Bouton pour pizzas à 15 CHF à l'emporter
      const takeoutButton = document.getElementById('takeoutButton');
      
      // Liste interne d'ingrédients sélectionnés
      window.selectedIngredients = [];
      // Ensemble global d'ingrédients
      window.allIngredients = new Set();
      // Bascule pour filtrer ou non les pizzas "takeout"
      let showTakeoutOnly = false;
      
      // 1) Récupérer tous les ingrédients depuis data-ingredients
      document.querySelectorAll('.menu-item').forEach(item => {
        const ingredients = item.dataset.ingredients.split(', ');
        ingredients.forEach(ing => window.allIngredients.add(ing.toLowerCase()));

        // Stocker le prix original en tant que numérique
        const priceEl = item.querySelector('.pizza-price');
        if (priceEl) {
          // retire "CHF"
          const priceText = priceEl.innerText.replace('CHF', '').trim();
          item.dataset.originalprice = priceText; 
        }
      });
      
      // 2) Générer les boutons "tags" d'ingrédients
      window.generateIngredientTags = function() {
        ingredientTagsContainer.innerHTML = '';
        Array.from(window.allIngredients).sort().forEach(ingredient => {
          const isActive = window.selectedIngredients.includes(ingredient);
          const tag = document.createElement('button');
          tag.className = `ingredient-tag px-3 py-1 rounded-full ${
            isActive ? 'bg-olive text-white' : 'bg-gray-200 text-gray-800'
          }`;
          tag.textContent = ingredient;
          tag.dataset.ingredient = ingredient;
          tag.onclick = function() {
            window.toggleIngredient(ingredient);
          };
          ingredientTagsContainer.appendChild(tag);
        });
      }
      
      // 3) Bascule un ingrédient dans selectedIngredients
      window.toggleIngredient = function(ingredient) {
        const index = window.selectedIngredients.indexOf(ingredient);
        if (index === -1) {
          window.selectedIngredients.push(ingredient);
        } else {
          window.selectedIngredients.splice(index, 1);
        }
        updateSelectedIngredientsDisplay();
        generateIngredientTags();
        updateDisplay();
      }
      
      // 4) Ajouter un ingrédient via le champ texte
      window.addCustomIngredientFilter = function() {
        const ingredient = ingredientSearch.value.trim().toLowerCase();
        if (ingredient && !window.selectedIngredients.includes(ingredient)) {
          window.selectedIngredients.push(ingredient);
          ingredientSearch.value = '';
          updateSelectedIngredientsDisplay();
          generateIngredientTags();
          updateDisplay();
        }
      }
      
      // 5) Affichage visuel des ingrédients sélectionnés
      window.updateSelectedIngredientsDisplay = function() {
        selectedIngredientsContainer.innerHTML = '';
        window.selectedIngredients.forEach(ingredient => {
          const chip = document.createElement('div');
          chip.className = 'bg-olive text-white px-3 py-1 rounded-full flex items-center';
          chip.innerHTML = `
            ${ingredient}
            <button onclick="removeIngredient('${ingredient}')" class="ml-2 text-xs">×</button>
          `;
          selectedIngredientsContainer.appendChild(chip);
        });
      }
      
      // 6) Fonction principale de filtrage
      window.updateDisplay = function() {
        const sortBy = sortSelect.value;
        const itemsArray = Array.from(menuItemsContainer.querySelectorAll('.menu-item'));
        
        // Tri (nom ou prix)
        if (sortBy === 'name') {
          itemsArray.sort((a, b) =>
            a.dataset.name.localeCompare(b.dataset.name, 'fr', { sensitivity: 'base' })
          );
        } else if (sortBy === 'price') {
          itemsArray.sort((a, b) =>
            parseFloat(a.dataset.price) - parseFloat(b.dataset.price)
          );
        }
        itemsArray.forEach(item => menuItemsContainer.appendChild(item));
        
        // Filtre : takeout + ingrédients
        itemsArray.forEach(item => {
          let matchTakeout = true;
          if (showTakeoutOnly && item.dataset.takeout !== 'true') {
            matchTakeout = false;
          }
          
          let matchIngredients = true;
          if (window.selectedIngredients.length > 0) {
            const itemIngredients = item.dataset.ingredients.toLowerCase().split(', ');
            matchIngredients = window.selectedIngredients.every(ing =>
              itemIngredients.includes(ing)
            );
          }
          
          // On masque ou non
          if (matchTakeout && matchIngredients) {
            item.style.display = '';
            
            // Gérer le prix barré (si takeout only & data-takeout=true)
            const priceEl = item.querySelector('.pizza-price');
            if (priceEl) {
              if (showTakeoutOnly && item.dataset.takeout === 'true') {
                // Prix barré + "15 CHF"
                const originalPrice = item.dataset.originalprice;
                priceEl.innerHTML = `<span class="line-through">${originalPrice} CHF</span> <span class="text-italiaRed font-semibold">15 CHF</span>`;
              } else {
                // Remettre le prix normal
                priceEl.innerHTML = `${item.dataset.originalprice} CHF`;
              }
            }
            
          } else {
            item.style.display = 'none';
          }
        });
      }
      
      // 7) Retirer un ingrédient de la liste
      window.removeIngredient = function(ingredient) {
        const index = window.selectedIngredients.indexOf(ingredient);
        if (index !== -1) {
          window.selectedIngredients.splice(index, 1);
          updateSelectedIngredientsDisplay();
          updateDisplay();
          generateIngredientTags();
        }
      }
      
      // 8) Gérer le clic sur le bouton "takeoutButton"
      takeoutButton.addEventListener('click', function() {
        // On inverse la bascule
        showTakeoutOnly = !showTakeoutOnly;
        // Modifier le texte du bouton si besoin :
        if (showTakeoutOnly) {
          takeoutButton.textContent = 'Afficher toutes les pizzas';
          takeoutButton.classList.remove('bg-red-600');
          takeoutButton.classList.add('bg-italiaGreen');
        } else {
          takeoutButton.textContent = 'takeaway -> 15 CHF !';
          takeoutButton.classList.add('bg-red-600');
          takeoutButton.classList.remove('bg-italiaGreen');
        }
        updateDisplay();
      });
      
      // EFFET PARALLAXE IMAGE HERO
      let ticking = false;
      window.addEventListener('scroll', () => {
        if (!ticking) {
          window.requestAnimationFrame(() => {
            const heroBg = document.getElementById('heroBg');
            const scrollPos = window.scrollY;
            if(heroBg) {
              heroBg.style.transform = `translateY(${scrollPos * 0.3}px)`;
            }
            ticking = false;
          });
          ticking = true;
        }
      });

      // OBSERVER APPARITION SECTIONS AU SCROLL
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('visible');
            observer.unobserve(entry.target);
          }
        });
      }, { threshold: 0.1 });

      document.querySelectorAll('.fade-section').forEach(section => {
        observer.observe(section);
      });

      // FORMULAIRE DE RÉSERVATION
      document.getElementById('reservationForm').addEventListener('submit', function(e) {
        e.preventDefault();

        const nom = encodeURIComponent(this.nameField.value);
        const date = encodeURIComponent(this.dateField.value);
        const heure = encodeURIComponent(this.timeField.value);
        const personnes = encodeURIComponent(this.peopleField.value);
        const message = encodeURIComponent(this.messageField.value || '');

        const nbPers = parseInt(personnes) > 1 ? 'personnes' : 'personne';
        const whatsappMessage = `Bonjour, je suis ${nom}. Je souhaite réserver une table pour ${personnes} ${nbPers}, le ${date} à ${heure}.${message ? ' Message: ' + message : ''} Merci !`;
        
        const whatsappURL = `https://wa.me/41223485831?text=${encodeURIComponent(whatsappMessage)}`;

        // Animation du bouton
        const submitBtn = document.getElementById('submitReservation');
        submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i> Envoi en cours...';
        
        // Ouvrir WhatsApp après un léger délai pour l'animation
        setTimeout(() => {
          window.open(whatsappURL, '_blank');
          submitBtn.innerHTML = 'Réserver par WhatsApp';
        }, 1000);
      });

      // METTRE À JOUR L'ANNÉE DYNAMIQUEMENT
      document.getElementById('currentYear').textContent = new Date().getFullYear();

      // BOUTON RETOUR EN HAUT
      document.getElementById('backToTop').addEventListener('click', function(e) {
        e.preventDefault();
        window.scrollTo({
          top: 0,
          behavior: 'smooth'
        });
      });

      // INIT
      generateIngredientTags();
      sortSelect.addEventListener('change', updateDisplay);
      ingredientSearch.addEventListener('keypress', function(e) {
        if (e.key === 'Enter') addCustomIngredientFilter();
      });
    });
  </script>
</body>
</html>
